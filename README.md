## VRDL2019FALL_Object-Detection
To use these project file, you would need to install tensorflow-gpu version 1.x with correspond cuda and cudnn version
Notice that the big model weights, h5 and model file/image folder were removed from the project.You would need to findyou own file to restore them in their correspond location. 

## Tensorflow1
Project file of object recognition program base on the tensorflow api and edjieelectronic's tensorflow object recognition tutorials.
Remeber to set the python path to model, model/researtch and model/research/slim to been able to correctly run the program.
To use this project, you may need to install and do some setting, which can follow instructioon[3] to setup (remeber to download tensorflow api same as your installed version). Once finish setup, ypu can put the train/test file with their correspond annotation csv to image foloder, use generate tfrecord.py to generate the annotation file the model is going to use. Download the desired pretrain model from modelzoo (link can be found at tensorflow1/models/research/object_detection/g3doc/detection_model_zoo.md, where the same folder contain other official guides would need to check when you are going to train your own model), extracrt the model under tensorflow1/models/research/object_detection/, amd found the correspond config file under tensorflow1/models/research/object_detection/samples(if you can't find one, check if your API version is correct.), You may need to adjust the image size, path(and others of your choice), then located it under tensorflow1/models/research/object_detection/training folder. You may need to generate a label.pbtxt under the same folder, with the condition of your training file written in.
After these preparation, you can start training. By train.py and generate result file from Object_detection_image.py, with correct parser command(can be found in instruction[3]). The model you are going to use in training is those model you genearte during training, generate inference graph from this weights, and then go for prediction. The training would only save latest 5 checkpoint weights, so you may need to modify program or check reqularly if you don't have large enough disk space. Note that the project file may already contain some cache and logs, which I would strongly recommend to follw the guide to install and operate step by step, and check here to see how the correct implement file would be like. Tensorflow API provide a lots of pretrained model weight, so if you like quick implementation, this would be a good choice.

## Yolov3
Yolov3 were an implemetation base on guide in [4]. You will need only need to install tqdm if you aleady finish the last part.
The setting of this project is more simplier: most of the setting can be done in arg.py, also the author provide lots of clear guidline, so check them if you feel lost. Put the image file somewhere in data folder, then use getkmean.py to generate anchor.txt record the anchor prepare for training. After setting path and parameters in arg.py, you can start training using train.py. It is very important tobe careful setting arguments in arg. which would largely influence theresult. These parameters all follow up with clear comment,so read carfully before adjust them. During the training process, the setting in arg.py would be show up on screen: 
like the current loss, would be influence by the  factor you had set in arg.py(start loss, decrease ratio, etc). Aftyer serveral epoch(you could setup), the model would start to evalulate on whole evaluation set, check the loss to evaluate the whether it is ovefit, and check recall(found correct boxes'sratio), precision(correct/proposal), AP and mAP(correctness) to evaluate the performance of the model. The model would store the model after epochs(yopu could set), and would markup the best model had produce as "best model". You test the model base on your decision, rename the model to yolo.ckpt and located them in data/darknet_weights, then you can use generate json.py to generate the prediction file.
## Reference:
# [1]https://github.com/tensorflow/models/tree/d530ac540b0103caa194b4824af353f1b073553b (TF1.9)
# [2]https://github.com/tensorflow/models/blob/d530ac540b0103caa194b4824af353f1b073553b/research/object_detection/g3doc/detection_model_zoo.md (fasterv2 model)
# [3]https://github.com/EdjeElectronics/TensorFlow-Object-Detection-API-Tutorial-Train-Multiple-Objects-Windows-10 (TF inplement)
# [4]https://github.com/wizyoung/YOLOv3_TensorFlow (Yolov3 implement)
